<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.eDrink24.config.OrderMapper">

    <!-- 장바구니에 담긴 상품 불러오기 -->
    <select id="showOrderList" parameterType="Integer" resultType="OrderTransactionDTO">
      select
        BASKET.basketId,
        BASKET.userId,
        Product.defaultImage,
        Product.productName,
        Product.price,
        BASKET.productId,
        BASKET.basketQuantity
      from BASKET
      JOIN Product ON BASKET.productId = Product.productId
      WHERE BASKET.userId = ( select userId
                              from customer
                              where loginId=#{loginId}
                             )
    </select>

</mapper>